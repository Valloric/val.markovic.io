@import-once "building-blocks.less";
@import-once "elements.less";


body {
  .droid-serif;
  // This is just a fallback
  background: @bg-color;
  // TODO: convert to data-uri; do the same thing for the RSS icon
  background: url("[[!!img/bg_pattern.png]]");
  color: @text-color;
  line-height: @main-line-height;
  font-size: @main-font-size;
}

#wrap {
  width: 35em;
  margin: 0 auto;
}


#main-header {
  margin-top: @main_header_top_margin;
  margin-bottom: @main_header_bottom_margin;
  font-size: @main_header_content_height;
}

#main-nav {
  .crete-round;
  margin: 0 auto;
}


a {
  .transition();
  border-bottom: 1px solid transparent;

  &:link {
    color: @link-color;
    text-decoration: none;
  }

  &:visited {
    color: @link-color;
    text-decoration: none;
  }

  &:hover {
    border-bottom: 1px solid @link-color;
  }
}

.special-link:link, .special-link:visited {
  color: @text-color;
}

#home-link {
  float: left;
}

#rss-link {
  float: left;
  display: inline-block;
  width: 14px;
  height: 14px;
  margin-left: 0.65em;
  position: relative;
  top: 0.25em;
  background: url("[[!!img/feed-icon-14x14.png]]") no-repeat 0 50%;
}

#navigation-links {
  float: right;

  > li {
    float: left;
    list-style-type: none;
    display: list-item;

    > a {
      margin-left: 2.5em;
      display: inline-block;
    }
  }
}

#post-heading {
  text-align: center;
}

hr {
  clear: both;
  border: 0;
  height: 1px;
  margin: 0;
  .background-gradient( ~"left, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.75), rgba(255, 255, 255, 0)" );

  &.top {
    margin-bottom: @main_header_full_height;
  }

  &.bottom {
    margin-top: @main_header_full_height;
  }
}

h2, p, dl {
  margin-bottom: @main-line-height;
  margin-top: 0;
}

h1, h2, h3, h4, h5, h6 {
  .crete-round;
  font-weight: normal;
}

h1 {
  font-size: @h1-font-size;
  margin-bottom: @main_header_full_height - @h1-font-size;
  text-align: center;
  line-height: 1.2em;
  margin-top: -0.19em; // because of increased line-height
}

#post-title {
  margin: 0;
}


#time {
  .simonetta;
  color: @light-grey;
  margin-top: 0.7em;
  margin-bottom: @main_header_full_height / 2;
  font-size: @main-font-size;
}

#post-body > p:first-of-type {
  font-size: @main-font-size * 1.142;
  line-height: @main-line-height;
}

p a {
  // Needed because we use a border-bottom to underline the link on hover and
  // without the padding the border touches descenders in letters like p, g, q
  // etc.
  padding-bottom: 0.12em;
}

.amp {
  font-size: 1.05em;
  font-family: "Warnock Pro","Goudy Old Style","Palatino","Book Antiqua",serif;
  font-style: italic;
}

// We don't want to make the color of the amp grey when it's inside a link; that
// makes it look like we have two links instead of one
:not(a) > .amp {
  color: @light-grey;
}

.caps {
  // font-size of 1.1 em makes Mate SC have the same x-height of Droid Serif, so
  // we add another 0.05 em to make it *slightly* taller than that, as is
  // customary in Anglo-Saxon typography.
  font-size: 1.15em;
  font-family: "Mate SC",serif;
  text-transform: lowercase;
  // small-caps need a bit extra tracking (letter-spacing)
  letter-spacing: 0.12em;
}

