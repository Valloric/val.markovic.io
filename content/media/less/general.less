@import-once "building-blocks.less";
@import-once "elements.less";
@import-once "retina.less";


body {
  .sans-serif;
  background: @bg-color;
  color: @text-color;
  line-height: @main-line-height;
  font-size: @main-font-size;
}

#wrap {
  width: 35em;
  margin: 0 auto;
}


#main-header {
  margin-top: @main_header_top_margin;
  margin-bottom: @main_header_bottom_margin;
  font-size: @main_header_content_height;
}

#main-nav {
  .primary-serif;
  margin: 0 auto;
}


// links with a "raw-link" class will not be styled
a:not(.raw-link) {
  &:link {
    color: @link-color;
    text-decoration: none;
  }

  &:visited {
    color: @visited-link-color;
    text-decoration: none;
  }

  &:hover {
    text-decoration: underline;
  }

  &:visited:hover {
    text-decoration: underline;
  }
}

a.special-link {
  &:link, &:visited {
    color: @text-color;
  }
}

#home-link {
  float: left;
}

#rss-link {
  float: left;
  margin-left: 0.65em;

  img {
    // "baseline" should work, but doesn't for some reason
    vertical-align: -0.1em;
  }
}

#navigation-links {
  float: right;

  > li {
    float: left;
    list-style-type: none;
    display: list-item;

    > a {
      margin-left: 2.5em;
      display: inline-block;
    }
  }
}

#post-heading {
  text-align: center;
}

hr {
  clear: both;
  border: 0;
  margin: 0;
  // times 2 because the :after pseudo-element has @main-line-height height and
  // it's actualy inside the margin
  margin-bottom: @main-line-height * 2;
  text-align: center;

  &:after {
    content: "✭ ✭ ✭";
    word-spacing: @main-line-height * 2;
    color: @light-grey;
  }

  &.main {
    height: 1px;
    .background-gradient( ~"left, #FFF, #222, #FFF" );

    &:after {
      content: "";
    }
  }

  &.top {
    margin: 0;
    margin-bottom: @main_header_full_height;
  }

  &.bottom {
    margin: 0;
    margin-top: @main_header_full_height;
  }
}

p, dl {
  margin-bottom: @main-line-height;
  margin-top: 0;
}

h2 {
  font-size: @h2-font-size;
  margin-top: @h2-margin * 1.5;
  margin-bottom: @h2-margin / 2;
}

h1, h2, h3, h4, h5, h6 {
  .primary-serif;
  font-weight: normal;
}

h1 {
  font-size: @h1-font-size;
  margin-bottom: @h1-margin;
  text-align: center;
  line-height: @h1-line-height;
}

#post-title {
  margin: 0;
}


#time {
  .secondary-serif;
  color: @light-grey;
  margin-top: 0.7em;
  margin-bottom: @main_header_full_height / 2;
  font-size: @main-font-size * 0.8;
}

#post-body > p:first-of-type {
  font-size: 1.25em;
  line-height: @main-line-height * 0.9;
}

#post-body img {
  max-width: 100%;
  max-height: 100%;
}

.amp {
  font-size: 1.05em;
  font-family: "Warnock Pro","Goudy Old Style","Palatino","Book Antiqua",serif;
  font-style: italic;
}

// We don't want to make the color of the amp grey when it's inside a link; that
// makes it look like we have two links instead of one
:not(a) > .amp {
  color: @light-grey;
}

.caps {
  // small-caps need a bit extra tracking (letter-spacing)
  letter-spacing: 0.07em;
}

pre {
  white-space: pre;
  word-wrap: normal;
  overflow-x: auto;

  padding: @main-line-height;
  margin: 0;
  margin-left: -@main-line-height;
  margin-bottom: @main-line-height;
  background-color: @super-light-grey;

  .light-grey-shadow;
  .rounded( 0.25em );
}

code {
  .monospace;
}

.footnote {
  font-size: 0.9em;

  // Lists inside the footnote list should be indented and not at the same level
  // as the main footnote list.
  > ol ol {
    margin-left: 1.4em;
  }
}

ul, ol {
  margin-bottom: @main-line-height;
  padding: 0;
}

ul {
  list-style: disc outside;
}

footer {
  .secondary-serif;
  color: @light-grey;
  margin-top: @main-line-height;
  text-align: center;

  p {
    margin: 0;
  }
}

#license {
  margin-top: @main-line-height / 2;
  line-height: 0;

  a {
    padding: 0;
    margin: 0;
  }
}

